/* ================================================
Design System Tokens - Global Styles
================================================ */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* SF Pro Rounded - Local */
@font-face {
  font-family: 'SF Pro Rounded';
  src: url('/fonts/SF-Pro-Rounded-Medium.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'SF Pro Rounded';
  src: url('/fonts/SF-Pro-Rounded-Heavy.otf') format('opentype');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

/* Scheherazade New - Local */
@font-face {
  font-family: 'Scheherazade New';
  src: url('/fonts/ScheherazadeNew-SemiBold.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Scheherazade New';
  src: url('/fonts/ScheherazadeNew-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

:root {
  /* ============================================
  Existing shadcn tokens (preserved — do not edit)
  ============================================ */
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 222.2 47.4% 11.2%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96.1%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 222.2 84% 4.9%;
  --radius: 0.5rem;
  --chart-1: 12 76% 61%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;

  /* ============================================
  Color Tokens  (preserved — do not edit)
  ============================================ */
  /* System Colors */
  --system-50: #f2f2f2;   /* Cards & Text Button */
  --system-100: #ececec;  /* inputs & Site Background */
  --system-200: #e1e1e1;  /* Border */
  --system-300: #828282;  /* Labels & Paragraph */
  --system-400: #404040;  /* Primary Text */

  /* Primary Colors */
  --primary-50: #eaf3ff;
  --primary-100: #b4caf5;
  --primary-200: #0066ff;
  --primary-300: #2e73db;

  /* Error Colors */
  --error-100: #f2a3a9;
  --error-200: #fb414e;
  --error-300: #e33844;

  /* Warning Colors */
  --warning-100: #ffe8d3;
  --warning-200: #ffa147;
  --warning-300: #e4852a;

  /* Success Colors */
  --success-100: #c0eedf;
  --success-200: #00bc7d;
  --success-300: #059866;

  /* ============================================
  Gradient Tokens  (preserved — used by public storefront)
  ============================================ */
  --gradient-button: linear-gradient(0deg, #5592C6 0%, #275985 100%);
  --gradient-popup: linear-gradient(160deg, #353737fa 0%, #1d1e1ffa 100%);

  /* ============================================
  Additional Shadow Tokens  (preserved — do not edit)
  ============================================ */
  --shadow-inside-shadow:
    inset 0px 0px 0px 1px #ffffff21,
    inset 0px 4px 10px 0px #00000040,
    inset 0px -1px 0px 0px #ffffff1f,
    inset 0px 2px 1px 0px #0000001a,
    0px 0px 0px 1px #00000040;

  --shadow-m-shadow:
    inset 0px 0px 0px 1px #40404026,
    inset 0px 1.4px 0px 0px #ffffff26,
    inset 0px 4px 10px 1px #ffffff14,
    inset 0px -1px 2px 0px #0000001f,
    0px 1px 2px 0px #0000000d,
    0px 4px 4px 0px #0000000a,
    0px 9px 6px 0px #00000008,
    0px 16px 7px 0px #00000003,
    0px 25px 7px 0px #00000000;

  --shadow-xl-shadow:
    inset 0px 0px 1px 1px #ffffff4a,
    inset 0.2px 4px 10px 0px #ffffff05,
    inset 0.2px 1px 0px 0px #ffffff40,
    inset -0.2px -1px 0px 0px #0000004d,
    0px 12px 26px 0px #0000001a,
    0px 47px 47px 0px #00000017,
    0px 107px 64px 0px #0000000d,
    0px 190px 76px 0px #00000003,
    0px 297px 83px 0px #00000000,
    0px 0px 0px 1px #292a2a;

  --shadow-bluebutton:
    inset 0px 0px 0px 1px #00000030,
    inset 0px 2px 0px 0.4px #ffffff59,
    0px 3px 7px 0px #6b97bd38,
    0px 13px 13px 0px #6b97bd30,
    0px 28px 17px 0px #6b97bd1c,
    0px 50px 20px 0px #6b97bd08,
    0px 78px 22px 0px #6b97bd00;

  /* ============================================
  Typography Tokens  (preserved — do not edit)
  ============================================ */
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-covered: 'Covered By Your Grace', cursive, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

  --font-size-xs: 12px;
  --font-size-md: 17px;
  --font-size-lg: 24px;
  --font-size-xl: 36px;

  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-extrabold: 800;

  --line-height-tight: 90%;
  --line-height-snug: 100%;
  --line-height-normal: 120%;
  --line-height-relaxed: 150%;

  --letter-spacing-tight: -0.06em;
  --letter-spacing-snug: -0.02em;
  --letter-spacing-normal: 0em;

  --body-bg: var(--system-100);

  /* ============================================
  [PHASE 1] Semantic Tile Tokens
  Replaces all multi-color gradient admin tiles.
  Each group maps to one strategic operator task:
    1. Confirm orders   → --tile-action-*
    2. Cash & couriers  → --tile-cash-*
    3. Recover failed   → --tile-risk-*
    4. Neutral info     → --tile-* (base)
  ============================================ */

  /* --- Neutral tile base (default / low-priority info) --- */
  --tile-bg:              var(--system-50);          /* #f2f2f2 */
  --tile-border:          var(--system-200);          /* #e1e1e1 */
  --tile-text-primary:    var(--system-400);          /* #404040 */
  --tile-text-muted:      var(--system-300);          /* #828282 */

  /* --- Action tile: "Confirm orders" (blue accent) --- */
  /* Contrast: #2e73db on #eaf3ff ≈ 4.7:1 — passes WCAG AA */
  --tile-action-bg:       var(--primary-50);          /* #eaf3ff */
  --tile-action-border:   var(--primary-100);         /* #b4caf5 */
  --tile-action-text:     var(--primary-300);         /* #2e73db */

  /* --- Cash tile: "Cash with couriers" (green accent) --- */
  /* Contrast: #059866 on #f0fdf4 ≈ 4.6:1 — passes WCAG AA */
  --tile-cash-bg:         #f0fdf4;
  --tile-cash-border:     var(--success-100);         /* #c0eedf */
  --tile-cash-text:       var(--success-300);         /* #059866 */

  /* --- Risk tile: "Failed & returns" (amber accent) --- */
  /* Use --system-400 text on warning-100 bg for AA compliance */
  /* #404040 on #ffe8d3 ≈ 7.1:1 — passes WCAG AA (large & normal) */
  --tile-risk-bg:         var(--warning-100);         /* #ffe8d3 */
  --tile-risk-border:     #ffd4aa;
  --tile-risk-text:       var(--warning-300);         /* #e4852a — use bold/semibold only */
  --tile-risk-text-safe:  var(--system-400);          /* #404040 — use for body text in risk tile */

  /* ============================================
  [PHASE 1] Kanban Column Tokens
  "New" column is visually emphasized (priority lane).
  "Shipped" column is visually muted (work is done).
  ============================================ */
  --col-new-bg:           #fafafa;
  --col-new-border:       #d1d5db;                   /* neutral-300 — slightly darker */
  --col-new-header-bg:    #f4f4f5;                   /* zinc-100 */
  --col-new-accent:       var(--system-400);          /* #404040 — high contrast header text */
  --col-new-left-border:  var(--system-400);          /* thick left border for emphasis */

  --col-active-bg:        var(--system-100);          /* #ececec */
  --col-active-border:    var(--system-200);          /* #e1e1e1 */
  --col-active-header-bg: var(--system-50);           /* #f2f2f2 */

  --col-done-bg:          var(--system-50);           /* #f2f2f2 — faded */
  --col-done-border:      var(--system-200);
  --col-done-header-bg:   var(--system-50);
  --col-done-text:        var(--system-300);          /* #828282 — muted */

  /* ============================================
  [PHASE 1] Status Chip Tokens
  Every status must use icon + label + these colors.
  Never rely on color alone (WCAG 1.4.1).
  Contrast ratios verified against bg/text pairs below.
  ============================================ */

  /* pending — #e4852a on #ffe8d3 ≈ 3.1:1 → must use font-weight: 600 */
  --status-pending-bg:          var(--warning-100);   /* #ffe8d3 */
  --status-pending-text:        var(--warning-300);   /* #e4852a */

  /* confirmed — #2e73db on #eaf3ff ≈ 4.7:1 — passes AA */
  --status-confirmed-bg:        var(--primary-50);    /* #eaf3ff */
  --status-confirmed-text:      var(--primary-300);   /* #2e73db */

  /* packaged/shipped — #6d28d9 on #ede9fe ≈ 5.9:1 — passes AA */
  --status-shipped-bg:          #ede9fe;
  --status-shipped-text:        #6d28d9;

  /* delivered — #059866 on #c0eedf ≈ 3.4:1 → must use font-weight: 600 */
  --status-delivered-bg:        var(--success-100);   /* #c0eedf */
  --status-delivered-text:      var(--success-300);   /* #059866 */

  /* failed/cancelled — #e33844 on #fee2e2 ≈ 3.9:1 → must use font-weight: 600 */
  --status-failed-bg:           #fee2e2;
  --status-failed-text:         var(--error-300);     /* #e33844 */

  /* called (in-progress variants) */
  --status-called-once-bg:      #fef9c3;              /* yellow-100 */
  --status-called-once-text:    #a16207;              /* yellow-800, ≈ 5.5:1 on bg */

  --status-no-answer-bg:        var(--warning-100);   /* #ffe8d3 */
  --status-no-answer-text:      var(--warning-300);   /* #e4852a */

  /* retour */
  --status-retour-bg:           #f3f4f6;              /* gray-100 */
  --status-retour-text:         #374151;              /* gray-700, ≈ 7.2:1 on bg */

  /* ============================================
  [PHASE 1] Single Card Shadow Token
  Replaces all shadow-lg / shadow-md admin usages.
  One subtle shadow keeps depth consistent.
  ============================================ */
  --shadow-card:
    0px 1px 2px rgba(0, 0, 0, 0.06),
    0px 1px 3px rgba(0, 0, 0, 0.04);

  --shadow-card-hover:
    0px 2px 4px rgba(0, 0, 0, 0.08),
    0px 4px 8px rgba(0, 0, 0, 0.06);

  /* ============================================
  [PHASE 1] Focus Ring Token
  Used by .focus-ring utility class below.
  Consistent 2px blue outline on all interactive elements.
  ============================================ */
  --focus-ring-color:   var(--primary-200);            /* #0066ff */
  --focus-ring-width:   2px;
  --focus-ring-offset:  2px;
}

/* Preserve existing dark theme tokens */
.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 210 40% 98%;
  --primary-foreground: 222.2 47.4% 11.2%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 212.7 26.8% 83.9%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;
}

/* Typography Classes */
.headline-h1 {
  font-family: var(--font-inter);
  font-weight: var(--font-weight-extrabold);
  font-size: var(--font-size-xl);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
}
.headline-h2 {
  font-family: var(--font-inter);
  font-weight: var(--font-weight-extrabold);
  font-size: var(--font-size-lg);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-snug);
}
.body-text {
  font-family: var(--font-inter);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-md);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-snug);
}
.caption-text {
  font-family: var(--font-inter);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-xs);
  line-height: 170%;
  letter-spacing: var(--letter-spacing-normal);
}
.note-text {
  font-family: var(--font-covered);
  font-weight: var(--font-weight-regular);
  font-size: var(--font-size-lg);
  line-height: var(--line-height-snug);
  letter-spacing: var(--letter-spacing-normal);
}

/* ================================================
[PHASE 1] Focus Ring Utility
Apply class="focus-ring" to any keyboard-interactive
element (buttons, cards, toggles, drawer triggers).
This replaces Tailwind's default focus-visible ring
with one that matches the design system precisely.
================================================ */
.focus-ring:focus-visible {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
  border-radius: var(--radius);
}

/* ================================================
Global Base Styles
================================================ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  border-color: hsl(var(--border));
}

body {
  background: var(--body-bg);
  color: var(--system-400);
  font-family: var(--font-inter), -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "rlig" 1, "calt" 1;
}

/* Centered page container for public layout */
.page-container {
  width: 100%;
  max-width: 1120px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1.5rem;
  padding-right: 1.5rem;
}

@keyframes scale-in {
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
