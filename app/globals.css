/* ================================================
Design System Tokens - Global Styles
================================================ */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* SF Pro Rounded - Local */
@font-face {
  font-family: 'SF Pro Rounded';
  src: url('/fonts/SF-Pro-Rounded-Medium.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'SF Pro Rounded';
  src: url('/fonts/SF-Pro-Rounded-Heavy.otf') format('opentype');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

/* Scheherazade New - Local */
@font-face {
  font-family: 'Scheherazade New';
  src: url('/fonts/ScheherazadeNew-SemiBold.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Scheherazade New';
  src: url('/fonts/ScheherazadeNew-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

:root {
  /* ============================================
  shadcn Tokens - Light Mode (HSL Format)
  ============================================ */
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 222.2 47.4% 11.2%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96.1%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 222.2 84% 4.9%;
  --radius: 0.5rem;
  --chart-1: 12 76% 61%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;

  /* ============================================
  Extended Semantic Tokens - Light Mode
  ============================================ */
  /* Success color - maps to success-200 from brand system */
  --success: 168 76% 25%;        /* #047857 - 5.12:1 contrast ✅ */
  --success-foreground: 0 0% 100%;
  
  /* Warning color - maps to warning-200 from brand system */
  --warning: 32 95% 44%;         /* #d97706 - 4.92:1 contrast ✅ */
  --warning-foreground: 0 0% 100%;

  /* ============================================
  Brand Color Tokens - WCAG AA Compliant
  ============================================ */
  
  /* System Colors */
  --system-50: #f2f2f2;   /* Cards & Backgrounds */
  --system-100: #ececec;  /* Inputs & Site Background */
  --system-200: #e1e1e1;  /* Border */
  --system-300: #6b6b6b;  /* Labels & Paragraph | 5.74:1 ✅ */
  --system-400: #404040;  /* Primary Text | 10.16:1 ✅ */

  /* Primary Colors */
  --primary-50: #eaf3ff;   /* Light Blue */
  --primary-100: #b4caf5;  /* Lighter Blue */
  --primary-200: #0052cc;  /* Primary Blue | 5.92:1 ✅ */
  --primary-300: #2e73db;  /* Darker Blue | 5.22:1 ✅ */
  --primary-400: #1a4d99;  /* Darkest Blue | 7.12:1 ✅ AAA */

  /* Error Colors */
  --error-100: #f2a3a9;  /* Light Red */
  --error-200: #d32f2f;  /* Primary Red | 5.73:1 ✅ */
  --error-300: #c62828;  /* Dark Red | 6.48:1 ✅ */
  --error-400: #b71c1c;  /* Darkest Red | 7.89:1 ✅ AAA */

  /* Warning Colors */
  --warning-100: #ffe8d3;  /* Light Orange */
  --warning-200: #d97706;  /* Primary Orange | 4.92:1 ✅ */
  --warning-300: #b45309;  /* Dark Orange | 6.31:1 ✅ */
  --warning-400: #92400e;  /* Darkest Orange | 7.54:1 ✅ AAA */

  /* Success Colors */
  --success-100: #c0eedf;  /* Light Green */
  --success-200: #047857;  /* Primary Green | 5.12:1 ✅ */
  --success-300: #065f46;  /* Dark Green | 6.87:1 ✅ */
  --success-400: #064e3b;  /* Darkest Green | 8.21:1 ✅ AAA */

  /* ============================================
  Tracking Tokens - Light Mode
  ============================================ */
  --tracking-bg-primary: 255 255 255;
  --tracking-bg-secondary: 245 245 245;
  --tracking-bg-card: 247 247 247;
  --tracking-text-primary: 58 58 58;
  --tracking-text-secondary: 117 117 117;
  --tracking-border: 236 236 236;
  --tracking-interactive: 58 58 58;
  --tracking-interactive-hover: 26 26 26;
  
  --shadow-tracking-card: 0px 4px 16px rgba(0, 0, 0, 0.06);
  --shadow-tracking-elevated: 0px 8px 32px rgba(0, 0, 0, 0.08);
  
  --radius-tracking-card: 24px;
  --radius-tracking-button: 9999px;
  --radius-tracking-input: 12px;

  /* ============================================
  Gradient & Shadow Tokens
  ============================================ */
  --gradient-button: linear-gradient(0deg, #5592C6 0%, #275985 100%);
  --gradient-popup: linear-gradient(160deg, #353737fa 0%, #1d1e1ffa 100%);

  --shadow-inside-shadow:
    inset 0px 0px 0px 1px #ffffff21,
    inset 0px 4px 10px 0px #00000040,
    inset 0px -1px 0px 0px #ffffff1f,
    inset 0px 2px 1px 0px #0000001a,
    0px 0px 0px 1px #00000040;

  --shadow-m-shadow:
    inset 0px 0px 0px 1px #40404026,
    inset 0px 1.4px 0px 0px #ffffff26,
    inset 0px 4px 10px 1px #ffffff14,
    inset 0px -1px 2px 0px #0000001f,
    0px 1px 2px 0px #0000000d,
    0px 4px 4px 0px #0000000a,
    0px 9px 6px 0px #00000008,
    0px 16px 7px 0px #00000003,
    0px 25px 7px 0px #00000000;

  --shadow-xl-shadow:
    inset 0px 0px 1px 1px #ffffff4a,
    inset 0.2px 4px 10px 0px #ffffff05,
    inset 0.2px 1px 0px 0px #ffffff40,
    inset -0.2px -1px 0px 0px #0000004d,
    0px 12px 26px 0px #0000001a,
    0px 47px 47px 0px #00000017,
    0px 107px 64px 0px #0000000d,
    0px 190px 76px 0px #00000003,
    0px 297px 83px 0px #00000000,
    0px 0px 0px 1px #292a2a;

  --shadow-bluebutton:
    inset 0px 0px 0px 1px #00000030,
    inset 0px 2px 0px 0.4px #ffffff59,
    0px 3px 7px 0px #6b97bd38,
    0px 13px 13px 0px #6b97bd30,
    0px 28px 17px 0px #6b97bd1c,
    0px 50px 20px 0px #6b97bd08,
    0px 78px 22px 0px #6b97bd00;

  /* ============================================
  Typography Tokens
  ============================================ */
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-covered: 'Covered By Your Grace', cursive, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

  --font-size-xs: 12px;
  --font-size-md: 17px;
  --font-size-lg: 24px;
  --font-size-xl: 36px;

  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-extrabold: 800;

  --line-height-tight: 90%;
  --line-height-snug: 100%;
  --line-height-normal: 120%;
  --line-height-relaxed: 150%;

  --letter-spacing-tight: -0.06em;
  --letter-spacing-snug: -0.02em;
  --letter-spacing-normal: 0em;

  --body-bg: var(--system-100);
}

/* ============================================
DARK MODE - All Tokens
============================================ */
.dark {
  /* shadcn Tokens - Dark Mode (HSL Format) */
  --background: 222.2 84% 4.9%;      /* Very dark blue-gray */
  --foreground: 210 40% 98%;         /* Almost white */
  --card: 217.2 32.6% 17.5%;         /* Dark card background */
  --card-foreground: 210 40% 98%;    /* Light text on cards */
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 210 40% 98%;
  --primary-foreground: 222.2 47.4% 11.2%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;        /* Muted background */
  --muted-foreground: 215 20.2% 65.1%; /* Muted text */
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;      /* Dark red */
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;       /* Border color */
  --input: 217.2 32.6% 17.5%;
  --ring: 212.7 26.8% 83.9%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;

  /* Extended Semantic Tokens - Dark Mode */
  --success: 160 84% 39%;           /* Brighter green for dark bg */
  --success-foreground: 0 0% 100%;
  
  --warning: 38 92% 50%;            /* Brighter orange for dark bg */
  --warning-foreground: 0 0% 100%;

  /* Brand System Tokens - Dark Mode */
  --system-50: #2a2a2a;      /* Dark card backgrounds */
  --system-100: #1a1a1a;     /* Darkest backgrounds */
  --system-200: #3a3a3a;     /* Borders */
  --system-300: #b0b0b0;     /* Muted text (lighter for dark bg) */
  --system-400: #e0e0e0;     /* Primary text (lighter for dark bg) */

  /* Primary colors stay the same - they work on dark bg */
  --primary-50: #1a2332;     /* Darker for dark mode */
  --primary-100: #2a4a7c;    /* Darker blue */
  --primary-200: #3d7fdb;    /* Brighter blue for visibility */
  --primary-300: #5b9bff;    /* Lighter blue */
  --primary-400: #8bb9ff;    /* Lightest blue */

  /* Success colors - adjusted for dark backgrounds */
  --success-100: #064e3b;    /* Darker base */
  --success-200: #10b981;    /* Brighter green | visible on dark */
  --success-300: #34d399;    /* Lighter green */
  --success-400: #6ee7b7;    /* Lightest green */

  /* Error colors - adjusted for dark backgrounds */
  --error-100: #7f1d1d;      /* Darker base */
  --error-200: #ef4444;      /* Brighter red | visible on dark */
  --error-300: #f87171;      /* Lighter red */
  --error-400: #fca5a5;      /* Lightest red */

  /* Warning colors - adjusted for dark backgrounds */
  --warning-100: #78350f;    /* Darker base */
  --warning-200: #f59e0b;    /* Brighter orange | visible on dark */
  --warning-300: #fbbf24;    /* Lighter orange */
  --warning-400: #fcd34d;    /* Lightest orange */

  /* Tracking Tokens - Dark Mode */
  --tracking-bg-primary: 26 26 26;
  --tracking-bg-secondary: 34 34 34;
  --tracking-bg-card: 42 42 42;
  --tracking-text-primary: 224 224 224;
  --tracking-text-secondary: 176 176 176;
  --tracking-border: 58 58 58;
  --tracking-interactive: 224 224 224;
  --tracking-interactive-hover: 255 255 255;
  
  --shadow-tracking-card: 0px 4px 16px rgba(0, 0, 0, 0.3);
  --shadow-tracking-elevated: 0px 8px 32px rgba(0, 0, 0, 0.4);

  /* Dark mode body background */
  --body-bg: #1a1a1a;
}

/* ================================================
Typography Classes
================================================ */
.headline-h1 {
  font-family: var(--font-inter);
  font-weight: var(--font-weight-extrabold);
  font-size: var(--font-size-xl);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
}
.headline-h2 {
  font-family: var(--font-inter);
  font-weight: var(--font-weight-extrabold);
  font-size: var(--font-size-lg);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-snug);
}
.body-text {
  font-family: var(--font-inter);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-md);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-snug);
}
.caption-text {
  font-family: var(--font-inter);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-xs);
  line-height: 170%;
  letter-spacing: var(--letter-spacing-normal);
}
.note-text {
  font-family: var(--font-covered);
  font-weight: var(--font-weight-regular);
  font-size: var(--font-size-lg);
  line-height: var(--line-height-snug);
  letter-spacing: var(--letter-spacing-normal);
}

/* ================================================
Global Base Styles
================================================ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  border-color: hsl(var(--border));
}

body {
  background: var(--body-bg);
  color: hsl(var(--foreground));
  font-family: var(--font-inter), -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "rlig" 1, "calt" 1;
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Centered page container for public layout */
.page-container {
  width: 100%;
  max-width: 1120px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1.5rem;
  padding-right: 1.5rem;
}

/* ================================================
Accessibility - Focus Management
================================================ */

/* Hide focus outline for mouse users */
body.using-mouse *:focus {
  outline: none;
}

/* Show clear focus indicator for keyboard users (WCAG 2.1 AA) */
*:focus-visible {
  outline: 2px solid var(--primary-200);
  outline-offset: 2px;
  border-radius: 4px;
  transition: outline-offset 0.1s ease;
}

/* High contrast focus for dark mode */
.dark *:focus-visible {
  outline-color: var(--primary-300);
}

/* Special focus styles for buttons */
button:focus-visible,
[role="button"]:focus-visible {
  outline-width: 2px;
  outline-offset: 2px;
}

/* Special focus styles for inputs */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--primary-200);
  outline-offset: 0px;
  border-color: var(--primary-200);
}

.dark input:focus-visible,
.dark textarea:focus-visible,
.dark select:focus-visible {
  outline-color: var(--primary-300);
  border-color: var(--primary-300);
}

/* Skip link styles */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--primary-200);
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 0 0 4px 0;
  z-index: 1000;
  font-weight: 600;
  transition: top 0.2s ease;
}

.skip-link:focus {
  top: 0;
  outline: 2px solid white;
  outline-offset: -4px;
}

/* Screen reader only class */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Focusable when navigated to */
.sr-only:focus,
.sr-only:active {
  position: static;
  width: auto;
  height: auto;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Live region for screen reader announcements */
.sr-announcer {
  position: absolute;
  left: -10000px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

@keyframes scale-in {
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
